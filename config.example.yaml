# GitLab Pipeline Status Monitor Configuration
# Copy this file to config.yaml and fill in your details

# Refresh interval in seconds
refreshInterval: 30

# Projects to exclude (optional)
# List project names or paths that should be excluded from monitoring
excludeProjects:
  - "general"
  - "dockerconfig"
  - "pipelines"
  # You can use full paths too
  # - "group/unwanted-project"

# GitLab servers configuration
servers:
  # Example 1: Single token (legacy format - still supported)
  - name: "GitLab Main"
    url: "https://gitlab.com"
    token: "your-gitlab-token-here"
    projects:
      - id: 12345
        name: "my-project"
      - id: 67890
        name: "another-project"
      # You can also use project path instead of ID
      - path: "group/project-name"

  # Example 2: Multiple tokens with automatic fallback (RECOMMENDED)
  # The monitor will use the first valid token and fall back to others if needed
  - name: "GitLab Production"
    url: "https://gitlab.com"
    tokens:
      # Primary token
      - value: "glpat-xxxxxxxxxxxxxxxxxxxxx"
        name: "Primary Token"
        expiresAt: "2025-12-31"  # Optional: helps track expiration
      # Backup token (will be used if primary expires or fails)
      - value: "glpat-yyyyyyyyyyyyyyyyyyyyy"
        name: "Backup Token"
        expiresAt: "2026-06-30"
    groups:
      # Monitor all projects in a group by path
      - path: "my-organization/production-apps"
        name: "Production Apps"
      # Or by group ID
      - id: 98765
        name: "Backend Services"
      # Include subgroups (optional, default: false)
      - path: "my-organization/all-projects"
        includeSubgroups: true

  # Example 3: Mix both groups and individual projects
  - name: "GitLab Self-Hosted"
    url: "https://gitlab.example.com"
    tokens:
      - value: "your-token-1"
        name: "Token 2025"
        expiresAt: "2025-12-31"
      - value: "your-token-2"
        name: "Token 2026"
    # Monitor specific projects
    projects:
      - path: "team/critical-app"
    # AND entire groups
    groups:
      - path: "team/microservices"
        includeSubgroups: true

# Token Management Tips:
# - Use multiple tokens to avoid service interruption when tokens expire
# - Set expiresAt to track token expiration (system will warn you)
# - Personal Access Tokens on GitLab.com Free tier can last up to 1 year
# - Recommended: Configure 2 tokens with overlapping validity periods
# - The UI will show warnings for expiring/expired tokens

# Display options
display:
  # Show only branches with recent activity (default: false)
  recentOnly: false
  # Number of pipelines to show per branch (default: 1)
  pipelinesPerBranch: 1
  # Compact mode (less spacing, default: false)
  compact: false
